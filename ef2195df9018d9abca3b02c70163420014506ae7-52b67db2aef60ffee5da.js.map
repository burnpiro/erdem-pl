{"version":3,"sources":["webpack:///./src/components/Diagrams/ImageWithAttention/data.js","webpack:///./src/components/Diagrams/ImageWithAttention/ImageWithAttention.js","webpack:///./src/components/Diagrams/ImageWithAttention/ImageWithAttention.module.scss","webpack:///./src/components/Diagrams/ImageWithAttention/person_smile.jpg"],"names":["step1","inputs","color","borderColor","size","boxSize","blockName","blockType","items","id","val","personImg","tooltipValue","position","firstRowPosition","cnn","sizeX","sizeY","lines","from","to","orientation","attention","hidden","state","context","output","text","softmax","operations","circleR","step2","step3","step4","step5","bottomRowPosition","step6","name","step7","namePosition","step8","map","item","idx","isScore","col","row","Number","parseInt","step9","points","step10","step11","step12","step13","step14","steps","step15","ImageWithAttention","useState","step","setStep","currStep","className","styles","DiagramGenerator","data","animationHeight","animationWidth","ProcessControls","onStepForward","onStepBackward","prevDisabled","nextDisabled","Object","keys","length","module","exports"],"mappings":"mKAaMA,EAAQ,CACZC,OAAQ,CACNC,MAAO,UACPC,YAAa,UACbC,KAASC,QACTC,UAAW,SACXC,UAAW,OACXC,MAAO,CACL,CACEC,GAAI,KACJC,IAAI,+B,OACUC,EADX,sBAGHC,aAAa,uGAKbC,SAAU,CACRC,GACA,QAKRC,IAAK,CACHb,MAAO,UACPC,YAAa,UACba,MAAUX,OACVY,MAAUZ,QACVC,UAAW,MACXC,UAAW,OACXC,MAAO,CACL,CACEC,GAAI,MACJC,IAAI,yCAGJE,aAAa,wJAKbC,SAAU,CACRC,MACA,KAEFI,MAAO,CACL,CACEC,KAAM,CACJL,IACA,KAEFM,GAAI,CACFN,MACA,KAIFO,YAAa,cAEf,CACEF,KAAM,CACJL,MACA,KAIFM,GAAI,CACFN,IACA,KAIFO,YAAa,kBAMvBC,UAAW,CACTpB,MAAO,UACPC,YAAa,UACbC,KAASC,OACTC,UAAW,YACXC,UAAW,OACXC,MAAO,IAETe,OAAQ,CACNrB,MAAO,UACPC,YAAa,UACbC,KAASC,OACTC,UAAW,SACXC,UAAW,OACXC,MAAO,CACL,CACEC,GAAI,MACJC,IAAI,qDAGJG,SAAU,CACR,IACA,MAGJ,CACEJ,GAAI,MACJC,IAAI,qDAGJG,SAAU,CACR,IACA,MAGJ,CACEJ,GAAI,MACJC,IAAI,qDAGJG,SAAU,CACR,IACA,MAGJ,CACEJ,GAAI,MACJC,IAAI,qDAGJG,SAAU,CACR,IACA,MAGJ,CACEJ,GAAI,MACJC,IAAI,qDAGJG,SAAU,CACR,IACA,MAGJ,CACEJ,GAAI,MACJC,IAAI,qDAGJG,SAAU,CACR,IACA,MAGJ,CACEJ,GAAI,MACJC,IAAI,qDAGJG,SAAU,CACR,IACA,MAGJ,CACEJ,GAAI,MACJC,IAAI,qDAGJG,SAAU,CACR,IACA,MAGJ,CACEJ,GAAI,MACJC,IAAI,qDAGJG,SAAU,CACR,IACA,QAKRW,MAAO,CACLtB,MAAO,UACPC,YAAa,UACbC,KAASC,OACTC,UAAW,QACXC,UAAW,OACXC,MAAO,CACL,CACEC,GAAI,KACJC,IAAI,mDAGJE,aAAa,oGAKbC,SAAU,CACR,IAjNc,KAHE,GAqNK,KAEvBK,MAAO,CACL,CACEC,KAAM,CACJ,IAvNU,KAHE,GA4NS,IAAyBd,IAEhDe,GAAI,CACF,IA5NU,KAHE,GAgOS,IAAyBf,IAEhDgB,YAAa,kBAMvBI,QAAS,CACPvB,MAAO,UACPC,YAAa,UACbC,KAASC,OACTC,UAAW,UACXC,UAAW,OACXC,MAAO,IAETkB,OAAQ,CACNxB,MAAO,UACPC,YAAa,UACbC,KAASC,OACTC,UAAW,SACXC,UAAW,OACXC,MAAO,IAETmB,KAAM,CACJzB,MAAO,UACPC,YAAa,OACba,MAAM,QACNC,MAAM,OACNX,UAAW,OACXC,UAAW,OACXC,MAAO,IAEToB,QAAS,CACP1B,MAAO,UACPC,YAAa,OACba,MAAOX,GACPY,MAAOZ,IACPC,UAAW,UACXC,UAAW,OACXC,MAAO,IAETqB,WAAY,CACV3B,MAAO,UACPC,YAAa,UACbC,KAAS0B,OACTxB,UAAW,aACXC,UAAW,SACXC,MAAO,KAILuB,EAAK,iBACN/B,EADM,CAETsB,UAAU,OAAD,UACJtB,EAAMsB,UADF,CAEPd,MAAM,GAAD,mBACAR,EAAMsB,UAAUd,OADhB,CAEH,CACEC,GAAI,MACJC,IAAI,uDAGJE,aAAa,mIAKbC,SAAU,CACR,IAlSc,KAHE,GAsSK,MAGzB,CACEJ,GAAI,MACJC,IAAI,uDAGJE,aAAa,mIAKbC,SAAU,CACR,IAjTc,KAHE,GAqTK,MAGzB,CACEJ,GAAI,MACJC,IAAI,uDAGJE,aAAa,mIAKbC,SAAU,CACR,IAhUc,KAHE,GAoUK,MAGzB,CACEJ,GAAI,MACJC,IAAI,uDAGJE,aAAa,mIAKbC,SAAU,CACR,IA/Uc,KAHE,GAmVK,IA/Uf,KAkVV,CACEJ,GAAI,MACJC,IAAI,uDAGJE,aAAa,mIAKbC,SAAU,CACR,IA9Vc,KAHE,GAkWK,IA9Vf,KAiWV,CACEJ,GAAI,MACJC,IAAI,uDAGJE,aAAa,mIAKbC,SAAU,CACR,IA7Wc,KAHE,GAiXK,IA7Wf,KAgXV,CACEJ,GAAI,MACJC,IAAI,uDAGJE,aAAa,mIAKbC,SAAU,CACR,IA5Xc,KAHE,GAgYK,IAAyBR,MAGlD,CACEI,GAAI,MACJC,IAAI,uDAGJE,aAAa,mIAKbC,SAAU,CACR,IA3Yc,KAHE,GA+YK,IAAyBR,MAGlD,CACEI,GAAI,MACJC,IAAI,uDAGJE,aAAa,mIAKbC,SAAU,CACR,IA1Zc,KAHE,GA8ZK,IAAyBR,UAKtDmB,MAAM,OAAD,UACAxB,EAAMwB,MADN,CAEHhB,MAAO,CAAC,OAAD,UAEAR,EAAMwB,MAAMhB,MAAM,GAFlB,CAGHU,MAAO,CACLlB,EAAMwB,MAAMhB,MAAM,GAAGU,MAAM,GAC3B,CACEC,KAAM,CACJnB,EAAMwB,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,GACnCL,EAAMwB,MAAMhB,MAAM,GAAGK,SAAS,IAEhCO,GAAI,CACF,IA7aU,KAHE,GAkbS,IAAyBf,MAGlD,CACEc,KAAM,CACJnB,EAAMuB,OAAOf,MAAM,GAAGK,SAAS,GAAKR,GACpCL,EAAMuB,OAAOf,MAAM,GAAGK,SAAS,IAEjCO,GAAI,CACF,IAxbU,KAHE,GA6bS,IAAyBf,YAO1DsB,KAAK,OAAD,UACC3B,EAAM2B,KADP,CAEFnB,MAAM,GAAD,mBACAR,EAAM2B,KAAKnB,OADX,CAEH,CACEC,GAAI,mBACJC,IAAI,4KAIJM,MAAM,QACNC,MAAM,OACNJ,SAAU,CACRC,GA9cc,KAHE,GAkdK,YAOzBkB,EAAK,iBACND,EADM,CAETH,QAAQ,OAAD,UACFG,EAAMH,QADJ,CAELpB,MAAM,GAAD,mBACAuB,EAAMH,QAAQpB,OADd,CAEH,CACEC,GAAI,gBACJC,IAAI,gFAGJG,SAAU,CACR,IAlec,KAHE,GAseK,KAEvBK,MAAO,CACL,CACEC,KAAM,CACJY,EAAMT,UAAUd,MAAM,GAAGK,SAAS,GAvehC,GAweFkB,EAAMT,UAAUd,MAAM,GAAGK,SAAS,GAAKR,IAEzCe,GAAI,CACF,IA5eU,KAHE,GAgfS,IAAyBf,IAEhDgB,YAAa,sBAQnBY,EAAK,iBACND,EADM,CAETV,UAAU,OAAD,UACJU,EAAMV,UADF,CAEPd,MAAM,GAAD,mBACAwB,EAAMV,UAAUd,OADhB,CAEH,CACEC,GAAI,MACJC,IAAI,uDAGJE,aAAa,4GAKbC,SAAU,CACR,IAxgBc,KAHE,GA4gBK,MAGzB,CACEJ,GAAI,MACJC,IAAI,uDAGJE,aAAa,4GAKbC,SAAU,CACR,IAvhBc,KAHE,GA2hBK,MAGzB,CACEJ,GAAI,MACJC,IAAI,uDAGJE,aAAa,4GAKbC,SAAU,CACR,IAtiBc,KAHE,GA0iBK,MAGzB,CACEJ,GAAI,MACJC,IAAI,uDAGJE,aAAa,4GAKbC,SAAU,CACR,IArjBc,KAHE,GAyjBK,IArjBf,IAujBRK,MAAO,CACL,CACEC,KAAM,CACJa,EAAMJ,QAAQpB,MAAM,GAAGK,SAAS,GAAKR,GACrC2B,EAAMJ,QAAQpB,MAAM,GAAGK,SAAS,GAAKR,IAEvCe,GAAI,CACF,IACA,oBAIFC,YAAa,gBAInB,CACEZ,GAAI,MACJC,IAAI,uDAGJE,aAAa,4GAKbC,SAAU,CACR,IAnlBc,KAHE,GAulBK,IAnlBf,KAslBV,CACEJ,GAAI,MACJC,IAAI,uDAGJE,aAAa,4GAKbC,SAAU,CACR,IAlmBc,KAHE,GAsmBK,IAlmBf,KAqmBV,CACEJ,GAAI,MACJC,IAAI,uDAGJE,aAAa,4GAKbC,SAAU,CACR,IAjnBc,KAHE,GAqnBK,IAAyBR,MAGlD,CACEI,GAAI,MACJC,IAAI,uDAGJE,aAAa,4GAKbC,SAAU,CACR,IAhoBc,KAHE,GAooBK,IAAyBR,MAGlD,CACEI,GAAI,MACJC,IAAI,uDAGJE,aAAa,4GAKbC,SAAU,CACR,IA/oBc,KAHE,GAmpBK,IAAyBR,UAKtDsB,KAAK,OAAD,UACCK,EAAML,KADP,CAEFnB,MAAM,GAAD,mBACAwB,EAAML,KAAKnB,OADX,CAEH,CACEC,GAAI,oBACJC,IAAI,wMAIJM,MAAM,QACNC,MAAM,QACNJ,SAAU,CACR,IAlqBc,KAHE,GAsqBK,aAOzBqB,EAAK,iBACND,EADM,CAETJ,WAAW,OAAD,UACLI,EAAMJ,WADD,CAERrB,MAAM,GAAD,mBACAyB,EAAMJ,WAAWrB,OADjB,CAEH,CACEC,GAAI,MACJC,IAAI,gFAGJE,aAAa,4IAIbC,SAAU,CACR,IACAsB,KAEFjB,MAAO,CACL,CACEC,KAAM,CACJc,EAAMX,UAAUd,MAAM,IAAIK,SAAS,GAAKR,GACxC4B,EAAMX,UAAUd,MAAM,IAAIK,SAAS,GAhsBjC,IAksBJO,GAAI,CACF,IAEAe,MAGJ,CACEhB,KAAM,CACJc,EAAMV,OAAOf,MAAM,GAAGK,SAAS,GA1sB7B,GA2sBFoB,EAAMV,OAAOf,MAAM,GAAGK,SAAS,GAAKR,IAEtCe,GAAI,CACF,IACAe,KAEFd,YAAa,gBAInB,CACEZ,GAAI,MACJC,IAAI,gFAGJE,aAAa,2IAGbC,SAAU,CACR,IACAsB,KAEFjB,MAAO,CACL,CACEC,KAAM,CACJ,IAEAgB,KAEFf,GAAI,CACF,IAEAe,YAOZV,QAAQ,OAAD,UACFQ,EAAMR,QADJ,CAELjB,MAAM,GAAD,mBACAyB,EAAMR,QAAQjB,OADd,CAEH,CACEC,GAAI,KACJC,IAAI,mDAGJE,aAAa,2IAGbC,SAAU,CACR,IACAsB,KAEFjB,MAAO,CACL,CACEC,KAAM,CACJ,IAEAgB,KAEFf,GAAI,CACF,IACAe,KAEFd,YAAa,sBAQnBe,EAAK,iBACNF,EADM,CAETV,MAAM,OAAD,UACAU,EAAMV,MADN,CAEHhB,MAAM,GAAD,mBACA0B,EAAMV,MAAMhB,OADZ,CAEH,CACEC,GAAI,KACJC,IAAI,mDAGJE,aAAa,6IAKbC,SAAU,CACR,IAvyBc,KAHE,GA2yBK,KAEvBK,MAAO,CACL,CACEC,KAAM,CACJe,EAAMV,MAAMhB,MAAM,GAAGK,SAAS,GA5yB5B,GA6yBFqB,EAAMV,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IAErCe,GAAI,CACF,IAjzBU,KAHE,GAqzBS,IAAyBf,IAEhDgB,YAAa,cAEf,CACEF,KAAM,CACJe,EAAMT,QAAQjB,MAAM,GAAGK,SAAS,GAAKR,GACrC6B,EAAMT,QAAQjB,MAAM,GAAGK,SAAS,IAElCO,GAAI,CACF,IA3zBE,GA6zBU,EA9zBF,KAHE,GAk0BS,IA9zBnB,KAi0BN,CACED,KAAM,CACJ,IACAgB,KAEFf,GAAI,CACF,IAEGf,IAAe,EA10BR,KAHE,GA80BS,IA10BnB,WAi1BdqB,OAAO,OAAD,UACDQ,EAAMR,OADL,CAEJlB,MAAM,GAAD,mBACA0B,EAAMR,OAAOlB,OADb,CAEH,CACEC,GAAI,KACJC,IAAI,mDAGJ2B,KAAM,UACNxB,SAAU,CACR,IACAsB,YAOJG,EAAK,iBACNF,EADM,CAETV,OAAO,OAAD,UACDU,EAAMV,OADL,CAEJlB,MAAM,GAAD,mBACA4B,EAAMV,OAAOlB,OADb,CAEH,CACEC,GAAI,OACJC,IAAI,mDAGJ2B,KAAM,UACNE,aAAc,MACd1B,SAAU,CACR,IAn3Bc,KAHE,GAu3BK,MAEvBK,MAAO,CACL,CACEC,KAAM,CACJiB,EAAMZ,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,GACnC+B,EAAMZ,MAAMhB,MAAM,GAAGK,SAAS,IAEhCO,GAAI,CACF,IAGA,cASRoB,EAAK,iBACNF,EADM,CAETd,MAAM,OAAD,UACAc,EAAMd,MADN,CAEHhB,MAAO,CAAC,OAAD,UAEA8B,EAAMd,MAAMhB,MAAM,GAFlB,CAGHU,MAAO,CAACoB,EAAMd,MAAMhB,MAAM,GAAGU,MAAM,GAAIoB,EAAMd,MAAMhB,MAAM,GAAGU,MAAM,MAH/D,iBAMAoB,EAAMd,MAAMhB,MAAM,GANlB,CAOHU,MAAM,GAAD,mBACAoB,EAAMd,MAAMhB,MAAM,GAAGU,OADrB,CAEH,CACEC,KAAM,CACJmB,EAAMd,MAAMhB,MAAM,GAAGK,SAAS,GAC9ByB,EAAMd,MAAMhB,MAAM,GAAGK,SAAS,IAEhCO,GAAI,CACFkB,EAAMhB,UAAUd,MAAM,GAAGK,SAAS,GA35BhC,GA45BFyB,EAAMhB,UAAUd,MAAM,GAAGK,SAAS,GA55BhC,YAm6BdY,QAAQ,OAAD,UACFa,EAAMb,QADJ,CAELjB,MAAO,CAAC,OAAD,UAEA8B,EAAMb,QAAQjB,MAAM,GAFpB,CAGHU,MAAO,QAIbW,WAAW,OAAD,UACLS,EAAMT,WADD,CAERrB,MAAO,KAETc,UAAU,OAAD,UACJgB,EAAMhB,UADF,CAEPd,MAAO8B,EAAMhB,UAAUd,MAAMiC,KAAI,SAACC,EAAMC,GACtC,IAAMC,EAAUD,EAAM,EAChBE,EAAOF,EAAM,EAAK,EAClBG,EAAMC,OAAOC,SAASL,EAAM,EAAG,KAAOC,GAAW,EAAI,GAC3D,OAAO,OAAP,UACKF,EADL,CAEEhC,IAAI,sBACAkC,EAAU,IAAM,KADjB,UAC8BE,EAD9B,IACqCD,EADrC,mCAQLI,EAAK,iBACNT,EADM,CAETX,WAAW,OAAD,UACLS,EAAMT,YAEXJ,QAAQ,OAAD,UACFe,EAAMf,QADJ,CAELjB,MAAM,GAAD,mBACAgC,EAAMf,QAAQjB,OADd,CAEH,CACEC,GAAI,KACJC,IAAI,mDAGJE,aAAa,2IAGbC,SAAU,CACR,IACAsB,KAEFjB,MAAO,CACL,CACEC,KAAM,CACJ,IAEAgB,KAEFe,OAAQ,CACN,CACE,IAEAf,KAEF,CACE,IAEA,KAEF,CACE,IAEA,MAGJf,GAAI,CACF,IAEAe,KAEFd,YAAa,yBAQnB8B,EAAM,iBACPF,EADO,CAEVzB,MAAM,OAAD,UACAyB,EAAMzB,MADN,CAEHhB,MAAM,GAAD,mBACAyC,EAAMzB,MAAMhB,OADZ,CAEH,CACEC,GAAI,KACJC,IAAI,mDAGJE,aAAa,6IAKbC,SAAU,CACRoC,EAAMzB,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IACnC4C,EAAMzB,MAAMhB,MAAM,GAAGK,SAAS,IAEhCK,MAAO,CACL,CACEC,KAAM,CACJ8B,EAAMzB,MAAMhB,MAAM,GAAGK,SAAS,GAjhC5B,GAkhCFoC,EAAMzB,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IAErCe,GAAI,CACF6B,EAAMzB,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IACnC4C,EAAMzB,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IAErCgB,YAAa,cAEf,CACEF,KAAM,CACJ8B,EAAMxB,QAAQjB,MAAM,GAAGK,SAAS,GAAKR,GACrC4C,EAAMxB,QAAQjB,MAAM,GAAGK,SAAS,IAElCO,GAAI,CACF6B,EAAMzB,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IACnC4C,EAAMzB,MAAMhB,MAAM,GAAGK,SAAS,GAjiC5B,KAoiCN,CACEM,KAAM,CACJ,IACAgB,KAEFf,GAAI,CACF6B,EAAMzB,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IACnC4C,EAAMzB,MAAMhB,MAAM,GAAGK,SAAS,GA3iC5B,WAkjCda,OAAO,OAAD,UACDuB,EAAMvB,OADL,CAEJlB,MAAM,GAAD,mBACAyC,EAAMvB,OAAOlB,OADb,CAEH,CACEC,GAAI,KACJC,IAAI,mDAGJ2B,KAAM,UACNxB,SAAU,CACR,IACAsB,YAOJiB,EAAM,iBACPD,EADO,CAEVzB,OAAO,OAAD,UACDyB,EAAOzB,OADN,CAEJlB,MAAM,GAAD,mBACA2C,EAAOzB,OAAOlB,OADd,CAEH,CACEC,GAAI,OACJC,IAAI,mDAGJ2B,KAAM,MACNE,aAAc,MACd1B,SAAU,CACRsC,EAAO3B,MAAMhB,MAAM,GAAGK,SAAS,GAC/BsC,EAAO3B,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IAEtCa,MAAO,CACL,CACEC,KAAM,CACJgC,EAAO3B,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,GACpC8C,EAAO3B,MAAMhB,MAAM,GAAGK,SAAS,IAEjCO,GAAI,CACF+B,EAAO3B,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,GACpC8C,EAAO3B,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,aAS5CgD,EAAM,iBACPD,EADO,CAEVvB,WAAW,OAAD,UACLW,EAAMX,YAEXJ,QAAQ,OAAD,UACF2B,EAAO3B,QADL,CAELjB,MAAO,CACL4C,EAAO3B,QAAQjB,MAAM,GADhB,iBAGA4C,EAAO3B,QAAQjB,MAAM,GAHrB,CAIHU,MAAO,QAIbM,MAAM,OAAD,UACA4B,EAAO5B,MADP,CAEHhB,MAAO,CACL4C,EAAO5B,MAAMhB,MAAM,GADd,iBAGA4C,EAAO5B,MAAMhB,MAAM,GAHnB,CAIHU,MAAO,CACLkC,EAAO5B,MAAMhB,MAAM,GAAGU,MAAM,GAC5BkC,EAAO5B,MAAMhB,MAAM,GAAGU,MAAM,GAC5BkC,EAAO5B,MAAMhB,MAAM,GAAGU,MAAM,MAP3B,iBAWAkC,EAAO5B,MAAMhB,MAAM,GAXnB,CAYHU,MAAM,GAAD,mBACAkC,EAAO5B,MAAMhB,MAAM,GAAGU,OADtB,CAEH,CACEC,KAAM,CACJiC,EAAO5B,MAAMhB,MAAM,GAAGK,SAAS,GAC/BuC,EAAO5B,MAAMhB,MAAM,GAAGK,SAAS,IAEjCqC,OAAQ,CACN,CACEE,EAAO5B,MAAMhB,MAAM,GAAGK,SAAS,GAC/BuC,EAAO5B,MAAMhB,MAAM,GAAGK,SAAS,GAAK,IAEtC,CACEuC,EAAO9B,UAAUd,MAAM,GAAGK,SAAS,GAAKR,IACxC+C,EAAO5B,MAAMhB,MAAM,GAAGK,SAAS,GAAK,KAGxCO,GAAI,CACFgC,EAAO9B,UAAUd,MAAM,GAAGK,SAAS,GAtpCjC,GAupCFuC,EAAO9B,UAAUd,MAAM,GAAGK,SAAS,GAvpCjC,IAypCJQ,YAAa,wBAMvBC,UAAU,OAAD,UACJ8B,EAAO9B,UADH,CAEPd,MAAO4C,EAAO9B,UAAUd,MAAMiC,KAAI,SAACC,EAAMC,GACvC,IAAMC,EAAUD,EAAM,EAChBE,EAAOF,EAAM,EAAK,EAClBG,EAAMC,OAAOC,SAASL,EAAM,EAAG,KAAOC,GAAW,EAAI,GAC3D,OAAO,OAAP,UACKF,EADL,CAEEhC,IAAI,uBACCkC,EAAU,IAAM,KADlB,UAC+BE,EAD/B,IACsCD,EADtC,mCAQLS,EAAM,iBACPD,EADO,CAEVxB,WAAW,OAAD,UACLuB,EAAOvB,YAEZJ,QAAQ,OAAD,UACF4B,EAAO5B,QADL,CAELjB,MAAM,GAAD,mBACA6C,EAAO5B,QAAQjB,OADf,CAEH,CACEC,GAAI,KACJC,IAAI,mDAGJE,aAAa,2IAGbC,SAAU,CACR,IACAsB,KAEFjB,MAAO,CACL,CACEC,KAAM,CACJiC,EAAOvB,WAAWrB,MAAM,GAAGK,SAAS,GACpCuC,EAAOvB,WAAWrB,MAAM,GAAGK,SAAS,IAEtCqC,OAAQ,CACN,CACEE,EAAOvB,WAAWrB,MAAM,GAAGK,SAAS,GA5sCpC,GA6sCAuC,EAAOvB,WAAWrB,MAAM,GAAGK,SAAS,IAEtC,CACEuC,EAAOvB,WAAWrB,MAAM,GAAGK,SAAS,GAhtCpC,GAitCA,KAEF,CACE,IAEA,MAGJO,GAAI,CACF,IAEAe,KAEFd,YAAa,yBAQnBkC,EAAM,iBACPD,EADO,CAEV5B,OAAO,OAAD,UACD4B,EAAO5B,OADN,CAEJlB,MAAM,GAAD,mBACA8C,EAAO5B,OAAOlB,OADd,CAEH,CACEC,GAAI,KACJC,IAAI,mDAGJ2B,KAAM,MACNxB,SAAU,CACRyC,EAAO7B,QAAQjB,MAAM,GAAGK,SAAS,GAAKR,GACtCiD,EAAO7B,QAAQjB,MAAM,GAAGK,SAAS,SAKzCW,MAAM,OAAD,UACA8B,EAAO9B,MADP,CAEHhB,MAAM,GAAD,mBACA8C,EAAO9B,MAAMhB,OADb,CAEH,CACEC,GAAI,KACJC,IAAI,mDAGJE,aAAa,6IAKbC,SAAU,CACRyC,EAAO9B,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IACpCiD,EAAO9B,MAAMhB,MAAM,GAAGK,SAAS,IAEjCK,MAAO,CACL,CACEC,KAAM,CACJmC,EAAO9B,MAAMhB,MAAM,GAAGK,SAAS,GA9wC7B,GA+wCFyC,EAAO9B,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IAEtCe,GAAI,CACFkC,EAAO9B,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IAnxC1B,KAHE,GAuxCS,IAAyBA,IAEhDgB,YAAa,cAEf,CACEF,KAAM,CACJmC,EAAO7B,QAAQjB,MAAM,GAAGK,SAAS,GAAKR,GACtCiD,EAAO7B,QAAQjB,MAAM,GAAGK,SAAS,IAEnCO,GAAI,CACFkC,EAAO9B,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IACpCiD,EAAO9B,MAAMhB,MAAM,GAAGK,SAAS,GA9xC7B,KAiyCN,CACEM,KAAM,CACJmC,EAAO7B,QAAQjB,MAAM,GAAGK,SAAS,GAAKR,IACtCiD,EAAO7B,QAAQjB,MAAM,GAAGK,SAAS,IAEnCO,GAAI,CACFkC,EAAO9B,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,IACpCiD,EAAO9B,MAAMhB,MAAM,GAAGK,SAAS,GAxyC7B,aAm1CV2C,EAAQ,CACZxD,QACA+B,QACAC,QACAC,QACAC,QACAE,QACAE,QACAE,QACAS,QACAE,SACAC,SACAC,SACAC,SACAC,SACAE,OAjDU,iBACPF,EADO,CAEV7B,OAAO,OAAD,UACD6B,EAAO7B,OADN,CAEJlB,MAAM,GAAD,mBACA+C,EAAO7B,OAAOlB,OADd,CAEH,CACEC,GAAI,OACJC,IAAI,mDAGJ2B,KAAM,SACNE,aAAc,MACd1B,SAAU,CACR0C,EAAO7B,OAAOlB,MAAM,GAAGK,SAAS,GAAKR,IACrCkD,EAAO7B,OAAOlB,MAAM,GAAGK,SAAS,IAElCK,MAAO,CACL,CACEC,KAAM,CACJoC,EAAO/B,MAAMhB,MAAM,GAAGK,SAAS,GAAKR,GACpCkD,EAAO/B,MAAMhB,MAAM,GAAGK,SAAS,IAEjCO,GAAI,CACFmC,EAAO7B,OAAOlB,MAAM,GAAGK,SAAS,GAAKR,IACrCkD,EAAO7B,OAAOlB,MAAM,GAAGK,SAAS,GA10C9B,c,qBCkCD6C,IAhCY,WACzB,MAAwBC,mBAAS,GAA1BC,EAAP,KAAaC,EAAb,KAUMC,EAAWN,EAAM,OAAOI,GAE9B,OACE,yBAAKG,UAAWC,IAAO,kBACrB,kBAACC,EAAA,EAAD,CACEC,KAAMJ,EACNF,KAAMA,EACNO,gBDrBgB,ICsBhBC,eDvBe,KCwBf3D,GAAG,yBAEL,kBAAC4D,EAAA,EAAD,CACEC,cApBgB,WACpBT,EAAQD,EAAO,IAoBXW,eAjBiB,WACrBV,EAAQD,EAAO,IAiBXY,aAAcZ,EAAO,EACrBa,aAAcb,IAASc,OAAOC,KAAKnB,GAAOoB,Y,uBCrClDC,EAAOC,QAAU,CAAC,gBAAgB,oD,qBCDlCD,EAAOC,QAAU,IAA0B","file":"ef2195df9018d9abca3b02c70163420014506ae7-52b67db2aef60ffee5da.js","sourcesContent":["import React from 'react';\n\nimport personImg from './person_smile.jpg';\n\nconst firstRowPosition = 0.01;\nconst boxPadding = 0.07;\nconst bottomRowPosition = 0.8;\nconst topRowPosition = 0.1;\nconst animationWidth = 1200;\nconst animationHeight = 500;\nconst boxSize = 50;\nconst circleR = 16;\n\nconst step1 = {\n  inputs: {\n    color: '#FFD199',\n    borderColor: '#A35A00',\n    size: `${boxSize * 3}px`,\n    blockName: 'inputs',\n    blockType: 'rect',\n    items: [\n      {\n        id: 'x1',\n        val: `<span>\n          <img src=\"${personImg}\">\n        </span>`,\n        tooltipValue: `\n          <span>\n            Image source: <i>WIDER FACE</i> dataset\n          </span>\n        `,\n        position: [\n          firstRowPosition * animationWidth,\n          (bottomRowPosition - 0.3) * animationHeight,\n        ],\n      },\n    ],\n  },\n  cnn: {\n    color: '#bdbdbd',\n    borderColor: '#636363',\n    sizeX: `${boxSize}px`,\n    sizeY: `${boxSize * 2}px`,\n    blockName: 'cnn',\n    blockType: 'rect',\n    items: [\n      {\n        id: 'cnn',\n        val: `<span>\n          CNN\n        </span>`,\n        tooltipValue: `\n          <span>\n            <strong>CNN</strong> is used to produce a grid of features. Architecture doesn't matter.\n          </span>\n        `,\n        position: [\n          firstRowPosition * animationWidth + boxSize * 3.75,\n          (bottomRowPosition - 0.3) * animationHeight + boxSize / 2,\n        ],\n        lines: [\n          {\n            from: [\n              firstRowPosition * animationWidth + boxSize * 3,\n              (bottomRowPosition - 0.3) * animationHeight + boxSize * 1.5,\n            ],\n            to: [\n              firstRowPosition * animationWidth + boxSize * 3.75,\n              (bottomRowPosition - 0.3) * animationHeight +\n                boxSize / 2 +\n                boxSize,\n            ],\n            orientation: 'horizontal',\n          },\n          {\n            from: [\n              firstRowPosition * animationWidth + boxSize * 4.75,\n              (bottomRowPosition - 0.3) * animationHeight +\n                boxSize / 2 +\n                boxSize,\n            ],\n            to: [\n              firstRowPosition * animationWidth + boxSize * 5.5,\n              (bottomRowPosition - 0.3) * animationHeight +\n                boxSize / 2 +\n                boxSize,\n            ],\n            orientation: 'horizontal',\n          },\n        ],\n      },\n    ],\n  },\n  attention: {\n    color: '#E2CFC4',\n    borderColor: '#523828',\n    size: `${boxSize}px`,\n    blockName: 'attention',\n    blockType: 'rect',\n    items: [],\n  },\n  hidden: {\n    color: '#9BF6FF',\n    borderColor: '#00838F',\n    size: `${boxSize}px`,\n    blockName: 'hidden',\n    blockType: 'rect',\n    items: [\n      {\n        id: 'h11',\n        val: `<span>\n          h<sub>1,1</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3,\n          (bottomRowPosition - 0.3) * animationHeight,\n        ],\n      },\n      {\n        id: 'h12',\n        val: `<span>\n          h<sub>1,2</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize,\n          (bottomRowPosition - 0.3) * animationHeight,\n        ],\n      },\n      {\n        id: 'h13',\n        val: `<span>\n          h<sub>1,3</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize * 2,\n          (bottomRowPosition - 0.3) * animationHeight,\n        ],\n      },\n      {\n        id: 'h21',\n        val: `<span>\n          h<sub>2,1</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3,\n          (bottomRowPosition - 0.3) * animationHeight + boxSize,\n        ],\n      },\n      {\n        id: 'h22',\n        val: `<span>\n          h<sub>2,2</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize,\n          (bottomRowPosition - 0.3) * animationHeight + boxSize,\n        ],\n      },\n      {\n        id: 'h23',\n        val: `<span>\n          h<sub>2,3</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize * 2,\n          (bottomRowPosition - 0.3) * animationHeight + boxSize,\n        ],\n      },\n      {\n        id: 'h31',\n        val: `<span>\n          h<sub>3,1</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3,\n          (bottomRowPosition - 0.3) * animationHeight + boxSize * 2,\n        ],\n      },\n      {\n        id: 'h32',\n        val: `<span>\n          h<sub>3,2</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize,\n          (bottomRowPosition - 0.3) * animationHeight + boxSize * 2,\n        ],\n      },\n      {\n        id: 'h33',\n        val: `<span>\n          h<sub>3,3</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize * 2,\n          (bottomRowPosition - 0.3) * animationHeight + boxSize * 2,\n        ],\n      },\n    ],\n  },\n  state: {\n    color: '#FDFFB6',\n    borderColor: '#636600',\n    size: `${boxSize}px`,\n    blockName: 'state',\n    blockType: 'rect',\n    items: [\n      {\n        id: 's0',\n        val: `<span>\n          s<sub>0</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          <strong>Initial decoder state</strong>\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 5,\n          (bottomRowPosition - 0.2) * animationHeight,\n        ],\n        lines: [\n          {\n            from: [\n              (firstRowPosition + boxPadding) * animationWidth * 3 +\n                boxSize * 3,\n              (bottomRowPosition - 0.2) * animationHeight + boxSize / 2,\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 5,\n              (bottomRowPosition - 0.2) * animationHeight + boxSize / 2,\n            ],\n            orientation: 'horizontal',\n          },\n        ],\n      },\n    ],\n  },\n  context: {\n    color: '#FFADAD',\n    borderColor: '#660000',\n    size: `${boxSize}px`,\n    blockName: 'context',\n    blockType: 'rect',\n    items: [],\n  },\n  output: {\n    color: '#CAFFBF',\n    borderColor: '#147A00',\n    size: `${boxSize}px`,\n    blockName: 'output',\n    blockType: 'rect',\n    items: [],\n  },\n  text: {\n    color: '#CAFFBF',\n    borderColor: '#333',\n    sizeX: `200px`,\n    sizeY: `50px`,\n    blockName: 'text',\n    blockType: 'text',\n    items: [],\n  },\n  softmax: {\n    color: '#CAFFBF',\n    borderColor: '#333',\n    sizeX: boxSize / 2,\n    sizeY: boxSize * 3,\n    blockName: 'softmax',\n    blockType: 'text',\n    items: [],\n  },\n  operations: {\n    color: '#E2E2DF',\n    borderColor: '#40403A',\n    size: `${circleR}px`,\n    blockName: 'operations',\n    blockType: 'circle',\n    items: [],\n  },\n};\n\nconst step2 = {\n  ...step1,\n  attention: {\n    ...step1.attention,\n    items: [\n      ...step1.attention.items,\n      {\n        id: 'e11',\n        val: `<span>\n          e<sub>1,1,1</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          e<sub>t,i,j</sub> = f<sub>att</sub>(s<sub>t-1</sub>, h<sub>i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3,\n          (bottomRowPosition - 0.7) * animationHeight,\n        ],\n      },\n      {\n        id: 'e12',\n        val: `<span>\n          e<sub>1,1,2</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          e<sub>t,i,j</sub> = f<sub>att</sub>(s<sub>t-1</sub>, h<sub>i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize,\n          (bottomRowPosition - 0.7) * animationHeight,\n        ],\n      },\n      {\n        id: 'e13',\n        val: `<span>\n          e<sub>1,1,3</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          e<sub>t,i,j</sub> = f<sub>att</sub>(s<sub>t-1</sub>, h<sub>i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize * 2,\n          (bottomRowPosition - 0.7) * animationHeight,\n        ],\n      },\n      {\n        id: 'e21',\n        val: `<span>\n          e<sub>1,2,1</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          e<sub>t,i,j</sub> = f<sub>att</sub>(s<sub>t-1</sub>, h<sub>i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize,\n        ],\n      },\n      {\n        id: 'e22',\n        val: `<span>\n          e<sub>1,2,2</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          e<sub>t,i,j</sub> = f<sub>att</sub>(s<sub>t-1</sub>, h<sub>i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize,\n        ],\n      },\n      {\n        id: 'e23',\n        val: `<span>\n          e<sub>1,2,2</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          e<sub>t,i,j</sub> = f<sub>att</sub>(s<sub>t-1</sub>, h<sub>i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize * 2,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize,\n        ],\n      },\n      {\n        id: 'e31',\n        val: `<span>\n          e<sub>1,3,1</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          e<sub>t,i,j</sub> = f<sub>att</sub>(s<sub>t-1</sub>, h<sub>i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize * 2,\n        ],\n      },\n      {\n        id: 'e32',\n        val: `<span>\n          e<sub>1,3,2</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          e<sub>t,i,j</sub> = f<sub>att</sub>(s<sub>t-1</sub>, h<sub>i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize * 2,\n        ],\n      },\n      {\n        id: 'e33',\n        val: `<span>\n          e<sub>1,3,3</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          e<sub>t,i,j</sub> = f<sub>att</sub>(s<sub>t-1</sub>, h<sub>i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 3 + boxSize * 2,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize * 2,\n        ],\n      },\n    ],\n  },\n  state: {\n    ...step1.state,\n    items: [\n      {\n        ...step1.state.items[0],\n        lines: [\n          step1.state.items[0].lines[0],\n          {\n            from: [\n              step1.state.items[0].position[0] + boxSize / 2,\n              step1.state.items[0].position[1],\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 3 +\n                boxSize * 3,\n              (bottomRowPosition - 0.7) * animationHeight + boxSize * 3,\n            ],\n          },\n          {\n            from: [\n              step1.hidden.items[1].position[0] + boxSize / 2,\n              step1.hidden.items[1].position[1],\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 3 +\n                boxSize * 1.5,\n              (bottomRowPosition - 0.7) * animationHeight + boxSize * 3,\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  text: {\n    ...step1.text,\n    items: [\n      ...step1.text.items,\n      {\n        id: 'alignment-scores',\n        val: `<span style=\"text-align: center; margin: 10px 0\">\n          <strong>Alignment scores</strong><br/>\n          for all hidden features (h<sub>i,j</sub>)\n        </span>`,\n        sizeX: `250px`,\n        sizeY: `80px`,\n        position: [\n          firstRowPosition * animationWidth,\n          (bottomRowPosition - 0.6) * animationHeight,\n        ],\n      },\n    ],\n  },\n};\n\nconst step3 = {\n  ...step2,\n  softmax: {\n    ...step2.softmax,\n    items: [\n      ...step2.softmax.items,\n      {\n        id: 'softmax-layer',\n        val: `<span style=\"transform: rotate(-90deg);\">\n          softmax\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 5,\n          (bottomRowPosition - 0.7) * animationHeight,\n        ],\n        lines: [\n          {\n            from: [\n              step2.attention.items[5].position[0] + boxSize,\n              step2.attention.items[5].position[1] + boxSize / 2,\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 5,\n              (bottomRowPosition - 0.7) * animationHeight + boxSize * 1.5,\n            ],\n            orientation: 'horizontal',\n          },\n        ],\n      },\n    ],\n  },\n};\n\nconst step4 = {\n  ...step3,\n  attention: {\n    ...step3.attention,\n    items: [\n      ...step3.attention.items,\n      {\n        id: 'a11',\n        val: `<span>\n          a<sub>1,1,1</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          a<sub>t,i,j</sub> = softmax(e<sub>t,i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 5 + boxSize,\n          (bottomRowPosition - 0.7) * animationHeight,\n        ],\n      },\n      {\n        id: 'a12',\n        val: `<span>\n          a<sub>1,1,2</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          a<sub>t,i,j</sub> = softmax(e<sub>t,i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 5 + boxSize * 2,\n          (bottomRowPosition - 0.7) * animationHeight,\n        ],\n      },\n      {\n        id: 'a13',\n        val: `<span>\n          a<sub>1,1,3</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          a<sub>t,i,j</sub> = softmax(e<sub>t,i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 5 + boxSize * 3,\n          (bottomRowPosition - 0.7) * animationHeight,\n        ],\n      },\n      {\n        id: 'a21',\n        val: `<span>\n          a<sub>1,2,1</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          a<sub>t,i,j</sub> = softmax(e<sub>t,i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 5 + boxSize,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize,\n        ],\n        lines: [\n          {\n            from: [\n              step3.softmax.items[0].position[0] + boxSize / 2,\n              step3.softmax.items[0].position[1] + boxSize * 1.5,\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 5 + boxSize,\n              (bottomRowPosition - 0.7) * animationHeight +\n                boxSize +\n                boxSize / 2,\n            ],\n            orientation: 'horizontal',\n          },\n        ],\n      },\n      {\n        id: 'a22',\n        val: `<span>\n          a<sub>1,2,2</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          a<sub>t,i,j</sub> = softmax(e<sub>t,i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 5 + boxSize * 2,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize,\n        ],\n      },\n      {\n        id: 'a23',\n        val: `<span>\n          a<sub>1,2,2</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          a<sub>t,i,j</sub> = softmax(e<sub>t,i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 5 + boxSize * 3,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize,\n        ],\n      },\n      {\n        id: 'a31',\n        val: `<span>\n          a<sub>1,3,1</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          a<sub>t,i,j</sub> = softmax(e<sub>t,i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 5 + boxSize,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize * 2,\n        ],\n      },\n      {\n        id: 'a32',\n        val: `<span>\n          a<sub>1,3,2</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          a<sub>t,i,j</sub> = softmax(e<sub>t,i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 5 + boxSize * 2,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize * 2,\n        ],\n      },\n      {\n        id: 'a33',\n        val: `<span>\n          a<sub>1,3,3</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n          a<sub>t,i,j</sub> = softmax(e<sub>t,i,j</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 5 + boxSize * 3,\n          (bottomRowPosition - 0.7) * animationHeight + boxSize * 2,\n        ],\n      },\n    ],\n  },\n  text: {\n    ...step3.text,\n    items: [\n      ...step3.text.items,\n      {\n        id: 'attention-weights',\n        val: `<span style=\"text-align: center; margin: 10px 0\">\n          <strong>Attention weights</strong><br/>\n          0 < a<sub>t,i,j</sub> < 1 <br/> ∑<sub>i,j</sub>a<sub>t,i,j</sub> = 1\n        </span>`,\n        sizeX: `250px`,\n        sizeY: `100px`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 7 + boxSize,\n          (bottomRowPosition - 0.65) * animationHeight,\n        ],\n      },\n    ],\n  },\n};\n\nconst step5 = {\n  ...step4,\n  operations: {\n    ...step4.operations,\n    items: [\n      ...step4.operations.items,\n      {\n        id: 'mul',\n        val: `<span>\n          <strong style=\"font-size: 25px\">o</strong>\n        </span>`,\n        tooltipValue: `<span>\n          Element-Wise multiplication <br/>\n          ∀<sub>i,j</sub>&nbsp; a<sub>t,i,j</sub> * h<sub>i,j</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 6 + boxSize / 2,\n          bottomRowPosition * animationHeight - boxSize / 2,\n        ],\n        lines: [\n          {\n            from: [\n              step4.attention.items[16].position[0] + boxSize / 2,\n              step4.attention.items[16].position[1] + boxSize,\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 6 +\n                boxSize / 2,\n              bottomRowPosition * animationHeight - circleR * 3,\n            ],\n          },\n          {\n            from: [\n              step4.hidden.items[8].position[0] + boxSize,\n              step4.hidden.items[8].position[1] + boxSize / 2,\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 6,\n              bottomRowPosition * animationHeight - boxSize / 2,\n            ],\n            orientation: 'horizontal',\n          },\n        ],\n      },\n      {\n        id: 'sum',\n        val: `<span>\n          <strong style=\"font-size: 25px\">+</strong>\n        </span>`,\n        tooltipValue: `<span>\n          c<sub>t</sub> = <span style=\"font-size: 26px\">∑</span><sub>i,j</sub> a<sub>t,i,j</sub>h<sub>i,j</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 6 + boxSize / 2,\n          bottomRowPosition * animationHeight + boxSize,\n        ],\n        lines: [\n          {\n            from: [\n              (firstRowPosition + boxPadding) * animationWidth * 6 +\n                boxSize / 2,\n              bottomRowPosition * animationHeight - circleR / 2,\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 6 +\n                boxSize / 2,\n              bottomRowPosition * animationHeight + boxSize / 2,\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  context: {\n    ...step4.context,\n    items: [\n      ...step4.context.items,\n      {\n        id: 'c1',\n        val: `<span>\n          c<sub>1</sub>\n        </span>`,\n        tooltipValue: `<span>\n          c<sub>t</sub> = <span style=\"font-size: 26px\">∑</span><sub>i,j</sub> a<sub>t,i,j</sub>h<sub>i,j</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 7,\n          bottomRowPosition * animationHeight,\n        ],\n        lines: [\n          {\n            from: [\n              (firstRowPosition + boxPadding) * animationWidth * 6 +\n                boxSize / 2,\n              bottomRowPosition * animationHeight + boxSize,\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 7,\n              bottomRowPosition * animationHeight + boxSize / 2,\n            ],\n            orientation: 'horizontal',\n          },\n        ],\n      },\n    ],\n  },\n};\n\nconst step6 = {\n  ...step5,\n  state: {\n    ...step5.state,\n    items: [\n      ...step5.state.items,\n      {\n        id: 's1',\n        val: `<span>\n          s<sub>1</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n           s<sub>t</sub> = g<sub>U</sub>(y<sub>t-1</sub>, s<sub>t-1</sub>, c<sub>t</sub>)\n          </span>\n        `,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 8 - boxSize,\n          (bottomRowPosition - 0.2) * animationHeight,\n        ],\n        lines: [\n          {\n            from: [\n              step5.state.items[0].position[0] + boxSize,\n              step5.state.items[0].position[1] + boxSize / 2,\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 8 - boxSize,\n              (bottomRowPosition - 0.2) * animationHeight + boxSize / 2,\n            ],\n            orientation: 'horizontal',\n          },\n          {\n            from: [\n              step5.context.items[0].position[0] + boxSize / 2,\n              step5.context.items[0].position[1],\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 8 -\n                boxSize +\n                boxSize / 6,\n              (bottomRowPosition - 0.2) * animationHeight + boxSize,\n            ],\n          },\n          {\n            from: [\n              (firstRowPosition + boxPadding) * animationWidth * 8,\n              bottomRowPosition * animationHeight,\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 8 -\n                boxSize +\n                (boxSize * 2) / 3,\n              (bottomRowPosition - 0.2) * animationHeight + boxSize,\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  output: {\n    ...step5.output,\n    items: [\n      ...step5.output.items,\n      {\n        id: 'y0',\n        val: `<span>\n          y<sub>0</sub>\n        </span>`,\n        name: '[START]',\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 8 - boxSize / 2,\n          bottomRowPosition * animationHeight,\n        ],\n      },\n    ],\n  },\n};\n\nconst step7 = {\n  ...step6,\n  output: {\n    ...step6.output,\n    items: [\n      ...step6.output.items,\n      {\n        id: 'y1-o',\n        val: `<span>\n          y<sub>1</sub>\n        </span>`,\n        name: 'smiling',\n        namePosition: 'top',\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 8 - boxSize,\n          (bottomRowPosition - 0.35) * animationHeight,\n        ],\n        lines: [\n          {\n            from: [\n              step6.state.items[1].position[0] + boxSize / 2,\n              step6.state.items[1].position[1],\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 8 -\n                boxSize +\n                boxSize / 2,\n              (bottomRowPosition - 0.35) * animationHeight + boxSize,\n            ],\n          },\n        ],\n      },\n    ],\n  },\n};\n\nconst step8 = {\n  ...step7,\n  state: {\n    ...step7.state,\n    items: [\n      {\n        ...step7.state.items[0],\n        lines: [step7.state.items[0].lines[0], step7.state.items[0].lines[2]],\n      },\n      {\n        ...step7.state.items[1],\n        lines: [\n          ...step7.state.items[1].lines,\n          {\n            from: [\n              step7.state.items[1].position[0],\n              step7.state.items[1].position[1],\n            ],\n            to: [\n              step7.attention.items[8].position[0] + boxSize,\n              step7.attention.items[8].position[1] + boxSize,\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  context: {\n    ...step7.context,\n    items: [\n      {\n        ...step7.context.items[0],\n        lines: [],\n      },\n    ],\n  },\n  operations: {\n    ...step7.operations,\n    items: [],\n  },\n  attention: {\n    ...step7.attention,\n    items: step7.attention.items.map((item, idx) => {\n      const isScore = idx < 9;\n      const col = (idx % 3) + 1;\n      const row = Number.parseInt(idx / 3, 10) - (isScore ? -1 : 2);\n      return {\n        ...item,\n        val: `<span>\n          ${isScore ? 'e' : 'a'}<sub>2,${row},${col}</sub>\n        </span>`,\n      };\n    }),\n  },\n};\n\nconst step9 = {\n  ...step8,\n  operations: {\n    ...step7.operations,\n  },\n  context: {\n    ...step8.context,\n    items: [\n      ...step8.context.items,\n      {\n        id: 'c2',\n        val: `<span>\n          c<sub>2</sub>\n        </span>`,\n        tooltipValue: `<span>\n          c<sub>t</sub> = <span style=\"font-size: 26px\">∑</span><sub>i,j</sub> a<sub>t,i,j</sub>h<sub>i,j</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 8 + boxSize,\n          bottomRowPosition * animationHeight,\n        ],\n        lines: [\n          {\n            from: [\n              (firstRowPosition + boxPadding) * animationWidth * 6 +\n                boxSize / 2,\n              bottomRowPosition * animationHeight + boxSize,\n            ],\n            points: [\n              [\n                (firstRowPosition + boxPadding) * animationWidth * 6 +\n                  boxSize * 1.5,\n                bottomRowPosition * animationHeight + boxSize,\n              ],\n              [\n                (firstRowPosition + boxPadding) * animationWidth * 6 +\n                  boxSize * 1.5,\n                0.99 * animationHeight,\n              ],\n              [\n                (firstRowPosition + boxPadding) * animationWidth * 8 +\n                  boxSize * 1.5,\n                0.99 * animationHeight,\n              ],\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 8 +\n                boxSize * 1.5,\n              bottomRowPosition * animationHeight + boxSize,\n            ],\n            orientation: 'multi-squared',\n          },\n        ],\n      },\n    ],\n  },\n};\n\nconst step10 = {\n  ...step9,\n  state: {\n    ...step9.state,\n    items: [\n      ...step9.state.items,\n      {\n        id: 's2',\n        val: `<span>\n          s<sub>2</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n           s<sub>t</sub> = g<sub>U</sub>(y<sub>t-1</sub>, s<sub>t-1</sub>, c<sub>t</sub>)\n          </span>\n        `,\n        position: [\n          step9.state.items[1].position[0] + boxSize * 2.5,\n          step9.state.items[1].position[1],\n        ],\n        lines: [\n          {\n            from: [\n              step9.state.items[1].position[0] + boxSize,\n              step9.state.items[1].position[1] + boxSize / 2,\n            ],\n            to: [\n              step9.state.items[1].position[0] + boxSize * 2.5,\n              step9.state.items[1].position[1] + boxSize / 2,\n            ],\n            orientation: 'horizontal',\n          },\n          {\n            from: [\n              step9.context.items[1].position[0] + boxSize / 2,\n              step9.context.items[1].position[1],\n            ],\n            to: [\n              step9.state.items[1].position[0] + boxSize * 2.8,\n              step9.state.items[1].position[1] + boxSize,\n            ],\n          },\n          {\n            from: [\n              (firstRowPosition + boxPadding) * animationWidth * 9 + boxSize,\n              bottomRowPosition * animationHeight,\n            ],\n            to: [\n              step9.state.items[1].position[0] + boxSize * 3.1,\n              step9.state.items[1].position[1] + boxSize,\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  output: {\n    ...step9.output,\n    items: [\n      ...step9.output.items,\n      {\n        id: 'y1',\n        val: `<span>\n          y<sub>1</sub>\n        </span>`,\n        name: 'smiling',\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 9 + boxSize / 2,\n          bottomRowPosition * animationHeight,\n        ],\n      },\n    ],\n  },\n};\n\nconst step11 = {\n  ...step10,\n  output: {\n    ...step10.output,\n    items: [\n      ...step10.output.items,\n      {\n        id: 'y2-o',\n        val: `<span>\n          y<sub>2</sub>\n        </span>`,\n        name: 'man',\n        namePosition: 'top',\n        position: [\n          step10.state.items[2].position[0],\n          step10.state.items[2].position[1] - boxSize * 1.5,\n        ],\n        lines: [\n          {\n            from: [\n              step10.state.items[2].position[0] + boxSize / 2,\n              step10.state.items[2].position[1],\n            ],\n            to: [\n              step10.state.items[2].position[0] + boxSize / 2,\n              step10.state.items[2].position[1] - boxSize / 2,\n            ],\n          },\n        ],\n      },\n    ],\n  },\n};\n\nconst step12 = {\n  ...step11,\n  operations: {\n    ...step8.operations,\n  },\n  context: {\n    ...step11.context,\n    items: [\n      step11.context.items[0],\n      {\n        ...step11.context.items[1],\n        lines: [],\n      },\n    ],\n  },\n  state: {\n    ...step11.state,\n    items: [\n      step11.state.items[0],\n      {\n        ...step11.state.items[1],\n        lines: [\n          step11.state.items[1].lines[0],\n          step11.state.items[1].lines[1],\n          step11.state.items[1].lines[2],\n        ],\n      },\n      {\n        ...step11.state.items[2],\n        lines: [\n          ...step11.state.items[2].lines,\n          {\n            from: [\n              step11.state.items[2].position[0],\n              step11.state.items[2].position[1],\n            ],\n            points: [\n              [\n                step11.state.items[2].position[0],\n                step11.state.items[2].position[1] - 10,\n              ],\n              [\n                step11.attention.items[8].position[0] + boxSize * 3,\n                step11.state.items[2].position[1] - 10,\n              ],\n            ],\n            to: [\n              step11.attention.items[8].position[0] + boxSize,\n              step11.attention.items[8].position[1] + boxSize,\n            ],\n            orientation: 'multi-squared',\n          },\n        ],\n      },\n    ],\n  },\n  attention: {\n    ...step11.attention,\n    items: step11.attention.items.map((item, idx) => {\n      const isScore = idx < 9;\n      const col = (idx % 3) + 1;\n      const row = Number.parseInt(idx / 3, 10) - (isScore ? -1 : 2);\n      return {\n        ...item,\n        val: `<span>\n           ${isScore ? 'e' : 'a'}<sub>3,${row},${col}</sub>\n        </span>`,\n      };\n    }),\n  },\n};\n\nconst step13 = {\n  ...step12,\n  operations: {\n    ...step11.operations,\n  },\n  context: {\n    ...step12.context,\n    items: [\n      ...step12.context.items,\n      {\n        id: 'c3',\n        val: `<span>\n          c<sub>3</sub>\n        </span>`,\n        tooltipValue: `<span>\n          c<sub>t</sub> = <span style=\"font-size: 26px\">∑</span><sub>i,j</sub> a<sub>t,i,j</sub>h<sub>i,j</sub>\n        </span>`,\n        position: [\n          (firstRowPosition + boxPadding) * animationWidth * 9 + boxSize * 2,\n          bottomRowPosition * animationHeight,\n        ],\n        lines: [\n          {\n            from: [\n              step11.operations.items[1].position[0],\n              step11.operations.items[1].position[1],\n            ],\n            points: [\n              [\n                step11.operations.items[1].position[0] + boxSize,\n                step11.operations.items[1].position[1],\n              ],\n              [\n                step11.operations.items[1].position[0] + boxSize,\n                0.99 * animationHeight,\n              ],\n              [\n                (firstRowPosition + boxPadding) * animationWidth * 9 +\n                  boxSize * 2.5,\n                0.99 * animationHeight,\n              ],\n            ],\n            to: [\n              (firstRowPosition + boxPadding) * animationWidth * 9 +\n                boxSize * 2.5,\n              bottomRowPosition * animationHeight + boxSize,\n            ],\n            orientation: 'multi-squared',\n          },\n        ],\n      },\n    ],\n  },\n};\n\nconst step14 = {\n  ...step13,\n  output: {\n    ...step13.output,\n    items: [\n      ...step13.output.items,\n      {\n        id: 'y2',\n        val: `<span>\n          y<sub>2</sub>\n        </span>`,\n        name: 'man',\n        position: [\n          step13.context.items[2].position[0] + boxSize * 1.5,\n          step13.context.items[2].position[1],\n        ],\n      },\n    ],\n  },\n  state: {\n    ...step13.state,\n    items: [\n      ...step13.state.items,\n      {\n        id: 's3',\n        val: `<span>\n          s<sub>3</sub>\n        </span>`,\n        tooltipValue: `\n          <span>\n           s<sub>t</sub> = g<sub>U</sub>(y<sub>t-1</sub>, s<sub>t-1</sub>, c<sub>t</sub>)\n          </span>\n        `,\n        position: [\n          step13.state.items[2].position[0] + boxSize * 3,\n          step13.state.items[2].position[1],\n        ],\n        lines: [\n          {\n            from: [\n              step13.state.items[2].position[0] + boxSize,\n              step13.state.items[2].position[1] + boxSize / 2,\n            ],\n            to: [\n              step13.state.items[2].position[0] + boxSize * 3,\n              (bottomRowPosition - 0.2) * animationHeight + boxSize / 2,\n            ],\n            orientation: 'horizontal',\n          },\n          {\n            from: [\n              step13.context.items[2].position[0] + boxSize / 2,\n              step13.context.items[2].position[1],\n            ],\n            to: [\n              step13.state.items[2].position[0] + boxSize * 3.2,\n              step13.state.items[2].position[1] + boxSize,\n            ],\n          },\n          {\n            from: [\n              step13.context.items[2].position[0] + boxSize * 2,\n              step13.context.items[2].position[1],\n            ],\n            to: [\n              step13.state.items[2].position[0] + boxSize * 3.7,\n              step13.state.items[2].position[1] + boxSize,\n            ],\n          },\n        ],\n      },\n    ],\n  },\n};\n\nconst step15 = {\n  ...step14,\n  output: {\n    ...step14.output,\n    items: [\n      ...step14.output.items,\n      {\n        id: 'y3-o',\n        val: `<span>\n          y<sub>3</sub>\n        </span>`,\n        name: '[STOP]',\n        namePosition: 'top',\n        position: [\n          step14.output.items[3].position[0] + boxSize * 3,\n          step14.output.items[3].position[1],\n        ],\n        lines: [\n          {\n            from: [\n              step14.state.items[3].position[0] + boxSize / 2,\n              step14.state.items[3].position[1],\n            ],\n            to: [\n              step14.output.items[3].position[0] + boxSize * 3.5,\n              step14.output.items[3].position[1] + boxSize,\n            ],\n          },\n        ],\n      },\n    ],\n  },\n};\n\nconst steps = {\n  step1,\n  step2,\n  step3,\n  step4,\n  step5,\n  step6,\n  step7,\n  step8,\n  step9,\n  step10,\n  step11,\n  step12,\n  step13,\n  step14,\n  step15,\n};\n\nexport { steps, animationWidth, animationHeight };\n","// @flow\nimport React, { useEffect, useState, useReducer } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport Button from '@material-ui/core/Button';\nimport DiagramGenerator from '../../DiagramGenerator/DiagramGenerator';\nimport ProcessControls from '../../DiagramGenerator/ProcessControls';\n\nimport { steps, animationWidth, animationHeight } from './data';\n\nimport styles from './ImageWithAttention.module.scss';\n\nconst ImageWithAttention = () => {\n  const [step, setStep] = useState(1);\n\n  const onStepForward = () => {\n    setStep(step + 1);\n  };\n\n  const onStepBackward = () => {\n    setStep(step - 1);\n  };\n\n  const currStep = steps[`step${step}`];\n\n  return (\n    <div className={styles['rnn-continaer']}>\n      <DiagramGenerator\n        data={currStep}\n        step={step}\n        animationHeight={animationHeight}\n        animationWidth={animationWidth}\n        id=\"image-with-attention\"\n      />\n      <ProcessControls\n        onStepForward={onStepForward}\n        onStepBackward={onStepBackward}\n        prevDisabled={step < 2}\n        nextDisabled={step === Object.keys(steps).length}\n      />\n    </div>\n  );\n};\n\nexport default ImageWithAttention;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rnn-continaer\":\"ImageWithAttention-module--rnn-continaer--_Ihkg\"};","module.exports = __webpack_public_path__ + \"static/person_smile-c4056aa3af956cc6de4850267aa816b2.jpg\";"],"sourceRoot":""}